name: Merge to Main

# on:
#   schedule:
#     - cron: '0 0 * * *' # 每天 0 点运行（可按需求调整）

# jobs:
#   merge:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout
#         uses: actions/checkout@v2

#       - name: Configure Git
#         run: |
#           git config --global user.name "yuuuuuj"
#           git config --global user.email "17373046129@163.com"

#       - name: Merge to Main
#         run: |
#           git checkout main
#           git merge feature
#           git push origin main
# name: Merge Feature to Main

on:
  workflow_dispatch:

jobs:
  merge:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Configure Git
        run: |
          git config --global user.name "yuuuuuj"
          git config --global user.email "17373046129@163.com"

      - name: Merge to Main
        run: |
          git checkout main
          git pull origin main  # 确保 main 分支是最新的
          git merge feature     # 将 feature 合并到 main
          git push origin main
